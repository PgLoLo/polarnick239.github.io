---
layout: ru/blogs/gpgpu/post
title:  "[NVidia] Про OpenCL багтрекер"
date:   2017-05-13 21:30:00 +0300
categories: gpu opencl nvidia
lang:   ru
id:     4_nvidia_opencl_bugreport
---

Когда-то давно я наткнулся на очень простой и минорный баг в NVidia реализации OpenCL: 
 вызов [clEnqueueNDRangeKernel](https://www.khronos.org/registry/OpenCL/sdk/1.2/docs/man/xhtml/clEnqueueNDRangeKernel.html) должен возвращать ошибку
 ```CL_INVALID_GLOBAL_WORK_SIZE``` в случае если ```global_work_size[0]``` равен ```0```, но драйвер NVidia этого не делал.
 
Сам баг не слишком важен, но любопытна история багрепорта:

 - ```10.11.2016``` Завел багрепорт с подробным описанием и ссылкой на OpenCL API. Получил письмо от сотрудника NVidia Кевина с просьбой отправить пример для воспроизведения проблемы.
 - ```11.11.2016``` Т.к. у NVidia самописный и неудобный багтрекер в котором нельзя приложить файл, то предлагается отправлять письма на ```CUDAIssues@nvidia.com``` с приложением и указанием номера тикета. Отправил письмо с минимальным примером воспроизводящим ошибку. Т.к. в архив я включил бинарники - архив переименовал в ```<Какое-то название>.zip.workaround``` чтобы письмо не было отфильтровано как опасное. Написал Кевину что я отправил архив.  
 - ```26.12.2016``` Добавил в багрепорте комментарий о том, что меня все еще волнует эта ошибка и что 11 ноября я отправил письмо с примером.
 - ```26.12.2016``` Кевин написал мне что в случае если письмо содержало zip-архив, то оно могло быть заблокировано, и попросил меня переименовав архив в ```<Какое-нибудь название>.zip_``` и отправить письмом ему.
 - ```26.12.2016``` Отправил архив в ответ.
 - ```21.02.2017``` Кевин написал комментарий в тикете о том, что вероятно письмо с архивом отфильтровалось из-за приложения zip-архива. 
 - ```21.02.2017``` Еще раз отправил письмо с архивом, упомянул об этом комментарием в тикете. Так же прокомментировал о том, что в письмах-оповещениях об обновлениях тикета содержится ссылка вида ```https://partners.nvidia.com/bug/viewbug/<Номер>``` на багрепорт, но у меня как у обычного разработчика (не-партнера) нет доступа на ее открытие.
 - ```21.04.2017``` Мне пришло письмо с просьбой выложить архив на sftp сервер (письмо содержало временный логин и пароль). Выложил архив с примером и написал письмо-ответ о том что я выложил архив.
 - ```03.05.2017``` Получил письмо-оповещение об обновлении тикета, хотя ни в письме, ни в самом тикете изменений не было.
 - ```16.05.2017``` Тикет перешел из статуса ```Open - Requested more info from customer``` в ```Open - in progress```
 - ```Продолжение следует...```
